do{
    flag[i] = true;
    turn = j;
    while (flag[j] && turn==j);
    //critical
    flag[i]=false;
    //remainder
}while(true);